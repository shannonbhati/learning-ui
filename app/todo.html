<!DOCTYPE html>
<html>
<head>
  <title>My todo List</title>
<link rel="stylesheet" href="todo.css"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script src="bundle.js"></script>
    <script src="todo.js"></script>

</head>
<body>
<center id ="content"><h3>This is My TODO Page</h3></center>
<div class="input-group">
  <span class="input-group-addon"></span>
  <input type="text" class="form-control" placeholder="Task" id="todo-text">
</div>

<ul class="list-group" id="todo-list">
  
</ul>
<input type="button" class="all btn btn-primary" value="All">

<input type="button" class="Completed btn btn-secondary" value="Completed">
<input type="button" class="active btn btn-success" value="Active">
<input type="button" class="clear btn btn-warning" value="Clear">
<input type="button" value="Clear all completed" class="clearCompleted btn btn-dark">


</body>
<script type="text/javascript">
function renderList(todoList) {
  var listHtml = "";
  // <input type = "checkbox" value= "status">
  todoList.forEach(function(task, index) {
    listHtml += "<li><div class='input-group'><span class='input-group-addon'><input type='checkbox' " + (task.completed ? "checked" : "") + " class='  todo_check' id=C_" + index + " data-id='" + index + "'/></span><span class='form-control'>" + task.name + "</span> </div></li>";
  });
  $("#todo-list").html(listHtml)
}
$(document).ready(function() {
  renderList(TODO_LIST);
  $("#todo-text").keypress(function(e) {
    var key = e.which;
    if(key==13){
      var n = $(e.target).val();
      addToList(n);
      renderList(TODO_LIST)
    }

    /* Act on the event */
  });
  $(document).on('click', '.todo_check', function(event) {
  
    var cId = $(event.target).attr('data-id');
   if( $(event.target).is(":checked")){
    markCompleted(cId);
  }
  else{
    markInActive(cId);
  }
    /* Act on the event */
  });

  $(document).on('click','.Completed',function(event){
     renderList(getAllCompleted());

  })
  $(document).on('click','.all',function(event){
    renderList(TODO_LIST);
  })
  $(document).on('click','.active',function(event){
    renderList(getAllActive());
  })
  $(document).on('click','.clear',function(event){
   clearAll();
   renderList(TODO_LIST);
  })
  $(document).on('click','.clearCompleted',function(event){
    clearAllCompleted();
    renderList(TODO_LIST);
  })
  

});

</script>
</html>
